(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cliente~imovel"],{"14c3":function(t,e,o){var a=o("c6b6"),n=o("9263");t.exports=function(t,e){var o=t.exec;if("function"===typeof o){var r=o.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"159b":function(t,e,o){var a=o("da84"),n=o("fdbc"),r=o("17c2"),i=o("9112");for(var c in n){var l=a[c],s=l&&l.prototype;if(s&&s.forEach!==r)try{i(s,"forEach",r)}catch(u){s.forEach=r}}},"17c2":function(t,e,o){"use strict";var a=o("b727").forEach,n=o("a640"),r=o("ae40"),i=n("forEach"),c=r("forEach");t.exports=i&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1f81":function(t,e,o){},2344:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.visivel,expression:"visivel"}],staticClass:"carregando"},[o("h1",[t._v("Carregando")])])},n=[],r={name:"Carregando",props:{visivel:Boolean}},i=r,c=(o("e141"),o("2877")),l=Object(c["a"])(i,a,n,!1,null,"10f12ea2",null);e["a"]=l.exports},4160:function(t,e,o){"use strict";var a=o("23e7"),n=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},5319:function(t,e,o){"use strict";var a=o("d784"),n=o("825a"),r=o("7b0b"),i=o("50c4"),c=o("a691"),l=o("1d80"),s=o("8aa5"),u=o("14c3"),d=Math.max,f=Math.min,v=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,o,a){var h=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=a.REPLACE_KEEPS_$0,g=h?"$":"$0";return[function(o,a){var n=l(this),r=void 0==o?void 0:o[t];return void 0!==r?r.call(o,n,a):e.call(String(n),o,a)},function(t,a){if(!h&&_||"string"===typeof a&&-1===a.indexOf(g)){var r=o(e,t,this,a);if(r.done)return r.value}var l=n(t),v=String(this),p="function"===typeof a;p||(a=String(a));var b=l.global;if(b){var y=l.unicode;l.lastIndex=0}var w=[];while(1){var k=u(l,v);if(null===k)break;if(w.push(k),!b)break;var E=String(k[0]);""===E&&(l.lastIndex=s(v,i(l.lastIndex),y))}for(var C="",R=0,$=0;$<w.length;$++){k=w[$];for(var S=String(k[0]),B=d(f(c(k.index),v.length),0),O=[],D=1;D<k.length;D++)O.push(m(k[D]));var M=k.groups;if(p){var j=[S].concat(O,B,v);void 0!==M&&j.push(M);var I=String(a.apply(void 0,j))}else I=x(S,v,B,O,M,a);B>=R&&(C+=v.slice(R,B)+I,R=B+S.length)}return C+v.slice(R)}];function x(t,o,a,n,i,c){var l=a+t.length,s=n.length,u=b;return void 0!==i&&(i=r(i),u=p),e.call(c,u,(function(e,r){var c;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return o.slice(0,a);case"'":return o.slice(l);case"<":c=i[r.slice(1,-1)];break;default:var u=+r;if(0===u)return e;if(u>s){var d=v(u/10);return 0===d?e:d<=s?void 0===n[d-1]?r.charAt(1):n[d-1]+r.charAt(1):e}c=n[u-1]}return void 0===c?"":c}))}}))},"6d6d":function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return r}));o("d3b7"),o("ac1f"),o("5319");var a=o("7424");function n(t){return new Promise((function(e){var o=t.normalize("NFD").replace(/([\u0300-\u036f]|[^0-9a-zA-Z])/g,"");return 8==o.length&&a["a"].get("/cliente/consultar_cep/".concat(o)).then((function(t){return e(t.data)})),!1}))}function r(t){return t.replace(/[USR$.\s]/gi,"").replace(",",".")}},"8aa5":function(t,e,o){"use strict";var a=o("6547").charAt;t.exports=function(t,e,o){return e+(o?a(t,e).length:1)}},9263:function(t,e,o){"use strict";var a=o("ad6d"),n=o("9f7f"),r=RegExp.prototype.exec,i=String.prototype.replace,c=r,l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||s;d&&(c=function(t){var e,o,n,c,d=this,f=s&&d.sticky,v=a.call(d),p=d.source,b=0,m=t;return f&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,b++),o=new RegExp("^(?:"+p+")",v)),u&&(o=new RegExp("^"+p+"$(?!\\s)",v)),l&&(e=d.lastIndex),n=r.call(f?o:d,m),f?n?(n.input=n.input.slice(b),n[0]=n[0].slice(b),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:l&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&i.call(n[0],o,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},"9e99":function(t,e,o){},"9f7f":function(t,e,o){"use strict";var a=o("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,o){"use strict";var a=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&a((function(){o.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,o){"use strict";var a=o("23e7"),n=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},b334:function(t,e,o){"use strict";o("9e99")},b64b:function(t,e,o){var a=o("23e7"),n=o("7b0b"),r=o("df75"),i=o("d039"),c=i((function(){r(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(t){return r(n(t))}})},d784:function(t,e,o){"use strict";o("ac1f");var a=o("6eeb"),n=o("d039"),r=o("b622"),i=o("9263"),c=o("9112"),l=r("species"),s=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var o="ab".split(t);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));t.exports=function(t,e,o,d){var p=r(t),b=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),m=b&&!n((function(){var e=!1,o=/a/;return"split"===t&&(o={},o.constructor={},o.constructor[l]=function(){return o},o.flags="",o[p]=/./[p]),o.exec=function(){return e=!0,null},o[p](""),!e}));if(!b||!m||"replace"===t&&(!s||!u||f)||"split"===t&&!v){var h=/./[p],_=o(p,""[t],(function(t,e,o,a,n){return e.exec===i?b&&!n?{done:!0,value:h.call(e,o,a)}:{done:!0,value:t.call(o,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),g=_[0],x=_[1];a(String.prototype,t,g),a(RegExp.prototype,p,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}d&&c(RegExp.prototype[p],"sham",!0)}},e141:function(t,e,o){"use strict";o("1f81")},e1d1:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("modal",{staticClass:"modal-adicionando-cliente",attrs:{name:"modal-contrato",width:"60%",height:"auto",scrollable:!0,"click-to-close":!1}},[o("h3",[t._v("Editando contrato")]),o("b-tabs",{attrs:{"content-class":"mt-3"}},[o("b-tab",{attrs:{title:"Dados gerais",active:""}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"select-contrato",label:"Responsável"}},[o("b-form-select",{attrs:{options:t.responsaveis,"value-field":"id","text-field":"nome"},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null}},[t._v("Selecione")])]},proxy:!0}]),model:{value:t.contrato.id_responsavel,callback:function(e){t.$set(t.contrato,"id_responsavel",e)},expression:"contrato.id_responsavel"}})],1)],1),o("b-col",[o("b-form-group",{attrs:{id:"select-contrato",label:"Cliente"}},[o("b-form-select",{attrs:{options:t.clientes,"value-field":"id","text-field":"nome"},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null}},[t._v("Selecione")])]},proxy:!0}]),model:{value:t.contrato.id_cliente,callback:function(e){t.$set(t.contrato,"id_cliente",e)},expression:"contrato.id_cliente"}})],1)],1),o("b-col",[o("b-form-group",{attrs:{id:"select-contrato",label:"Imóvel"}},[o("b-form-select",{attrs:{options:t.imoveis,"value-field":"id","text-field":"nome"},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null}},[t._v("Selecione")])]},proxy:!0}]),model:{value:t.contrato.id_imovel,callback:function(e){t.$set(t.contrato,"id_imovel",e)},expression:"contrato.id_imovel"}})],1)],1)],1),o("b-row",[o("b-col",[o("vs-input",{staticClass:"input-nascimento",attrs:{label:"Data de Início",type:"date"},model:{value:t.contrato.data_inicio,callback:function(e){t.$set(t.contrato,"data_inicio",e)},expression:"contrato.data_inicio"}})],1),o("b-col",[o("vs-input",{staticClass:"input-nascimento",attrs:{label:"Data de Término",type:"date",disabled:!t.ativo_data_termino},model:{value:t.contrato.data_fim,callback:function(e){t.$set(t.contrato,"data_fim",e)},expression:"contrato.data_fim"}})],1),o("b-col",[o("vs-input",{staticClass:"input-personalizado",attrs:{"label-placeholder":"Vigência",readonly:""},model:{value:t.contrato.vigencia,callback:function(e){t.$set(t.contrato,"vigencia",e)},expression:"contrato.vigencia"}})],1)],1),o("b-row",[o("b-col",[o("vs-input",{staticClass:"input-nascimento",attrs:{label:"Vencimento",type:"date"},model:{value:t.contrato.data_vencimento,callback:function(e){t.$set(t.contrato,"data_vencimento",e)},expression:"contrato.data_vencimento"}})],1),o("b-col",[o("vs-input",{directives:[{name:"currency",rawName:"v-currency",value:{precision:2,autoDecimalMode:!0,distractionFree:!1,allowNegative:!1,currency:"BRL"},expression:"{precision: 2,autoDecimalMode: true,distractionFree: false,\n                      allowNegative: false, currency:'BRL'}"}],ref:"valor_boleto",staticClass:"input-personalizado",attrs:{"label-placeholder":"Valor do Boleto"},model:{value:t.contrato.valor_boleto,callback:function(e){t.$set(t.contrato,"valor_boleto",e)},expression:"contrato.valor_boleto"}})],1)],1),o("b-row",[o("b-col",[o("vs-input",{staticClass:"input-personalizado",attrs:{"label-placeholder":"Carência"},model:{value:t.contrato.carencia,callback:function(e){t.$set(t.contrato,"carencia",e)},expression:"contrato.carencia"}})],1),o("b-col",[o("vs-input",{staticClass:"input-personalizado",attrs:{"label-placeholder":"Garantia"},model:{value:t.contrato.garantia,callback:function(e){t.$set(t.contrato,"garantia",e)},expression:"contrato.garantia"}})],1),o("b-col",[o("b-form-group",{attrs:{id:"select-contrato",label:"Fiador"}},[o("b-form-select",{attrs:{options:t.clientes,"value-field":"id","text-field":"descricao"},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null}},[t._v("Selecione")])]},proxy:!0}]),model:{value:t.contrato.fiador,callback:function(e){t.$set(t.contrato,"fiador",e)},expression:"contrato.fiador"}})],1)],1)],1)],1),o("b-tab",{attrs:{title:"Inf. adicionais"}},[o("b-row",[o("b-col",[o("b-form-file",{ref:"file",staticClass:"mt-3 arquivo-pdf",attrs:{type:"file",accept:".pdf",placeholder:"Escolha um arquivo para importar","drop-placeholder":"Solte o arquivo aqui!"},on:{change:t.importarPDF}})],1),o("b-col",[t.contrato.nome_pdf?o("p",{staticClass:"p-contrato",staticStyle:{color:"green"}},[o("b",[t._v("Contrato importado")])]):o("p",{staticClass:"p-contrato",staticStyle:{color:"red"}},[o("b",[t._v("Contrato não importado")])])])],1),o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"textarea",label:"Observação","label-for":"input-1"}},[o("b-form-textarea",{attrs:{id:"textarea",rows:"1s","max-rows":"6"}})],1)],1)],1)],1),o("b-tab",{attrs:{title:"Boletos"}},[o("b-row",[o("b-col",[o("b-table",{attrs:{id:"tabela-boleto","primary-key":"id",bordered:"","head-variant":"dark","sort-icon-left":"",items:t.boletos,fields:t.fieldsBoletos,"show-empty":"",small:"",striped:"",hover:"",outlined:"","sticky-header":"calc(100vh - 82px - 30px - 48px - 52px - 55px)","no-border-collapse":""},on:{"row-clicked":function(e){return t.$set(e,"_showDetails",!e._showDetails)}},scopedSlots:t._u([{key:"cell(data_vencimento)",fn:function(e){return[o("label",{staticClass:"tr-contrato"},[t._v(t._s(t.dayjs(e.item.data_vencimento).format("DD/MM/YYYY")))])]}},{key:"cell(valor)",fn:function(e){return[o("label",{staticClass:"tr-contrato"},[t._v("R$ "+t._s(e.item.valor.replace(".",",")))])]}},{key:"cell(status)",fn:function(e){return[o("label",{staticClass:"tr-contrato"},[t._v(t._s(e.item.status))])]}},{key:"cell(id)",fn:function(e){return[o("label",{staticClass:"tr-contrato"},[t._v(t._s(("000000"+e.item.id).slice(-6)))])]}},{key:"cell(data_quitacao)",fn:function(e){return[""!=e.item.data_quitacao&&null!=e.item.data_quitacao?o("label",{staticClass:"tr-contrato"},[t._v(" "+t._s(t.dayjs(e.item.data_quitacao).format("DD/MM/YYYY")))]):o("label",{staticClass:"tr-contrato"})]}},{key:"cell(editar)",fn:function(e){return[o("div",{staticClass:"item-coluna-centralizada"},[o("vs-button",{attrs:{type:"flat",color:"dark",icon:"edit"},on:{mousedown:function(o){return o.stopPropagation(),t.mostrarModalEditarBoleto(e.item)}}})],1)]}},{key:"table-colgroup",fn:function(){return[o("col"),o("col"),o("col"),o("col"),o("col"),o("col",{staticStyle:{width:"15px"}})]},proxy:!0}])})],1)],1)],1)],1),o("b-row",{attrs:{"align-h":"end"}},[o("b-col",{attrs:{cols:"auto"}},[o("vs-button",{staticClass:"botao-salvar",attrs:{color:"#24a35a",type:"filled",icon:"save"},nativeOn:{click:function(e){return t.editarContrato(e)}}},[t._v(" Salvar ")])],1),o("b-col",{attrs:{cols:"auto"}},[o("vs-button",{staticClass:"botao-salvar",attrs:{color:"#707070",type:"filled",icon:"clear"},nativeOn:{click:function(e){return t.esconderModal(e)}}},[t._v(" Cancelar ")])],1)],1)],1),o("ModalEditarBoleto",{attrs:{idBoleto:t.idBoletoModal,visivelBoleto:t.modal_visivel_boleto},on:{"esconder-modal-boleto":function(e){t.modal_visivel_boleto=e},buscarBoletos:t.buscarBoletos}})],1)},n=[],r=(o("b64b"),o("96cf"),o("1da1")),i=o("7424"),c=o("5a0c"),l=o.n(c),s=o("d413"),u=o("6d6d"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{attrs:{name:"modal-editar-boleto",width:"60%",height:"auto",scrollable:!0,"click-to-close":!1}},[o("b-container",[o("b-row",[o("b-col",[o("h4",[t._v("Editando boleto: "+t._s(("000000"+t.idBoleto).slice(-6)))])])],1),o("b-row",[o("b-col",[o("vs-input",{staticClass:"input-nascimento",attrs:{label:"Data Vencimento",type:"date"},model:{value:t.boleto.data_vencimento,callback:function(e){t.$set(t.boleto,"data_vencimento",e)},expression:"boleto.data_vencimento"}})],1),o("b-col",[o("vs-input",{staticClass:"input-nascimento",attrs:{label:"Data Quitação",type:"date"},model:{value:t.boleto.data_quitacao,callback:function(e){t.$set(t.boleto,"data_quitacao",e)},expression:"boleto.data_quitacao"}})],1),o("b-col",[o("vs-input",{directives:[{name:"currency",rawName:"v-currency",value:{precision:2,autoDecimalMode:!0,distractionFree:!1,allowNegative:!1,currency:"BRL"},expression:"{precision: 2,autoDecimalMode: true,distractionFree: false,\n                      allowNegative: false, currency:'BRL'}"}],ref:"inputValor",staticClass:"input-personalizado",attrs:{"label-placeholder":"Valor"},model:{value:t.boleto.valor,callback:function(e){t.$set(t.boleto,"valor",e)},expression:"boleto.valor"}})],1),o("b-col",[o("b-form-group",{attrs:{id:"select-contrato",label:"Status"}},[o("b-form-select",{attrs:{options:t.status_boleto,"value-field":"id","text-field":"descricao"},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null}},[t._v("Selecione")])]},proxy:!0}]),model:{value:t.boleto.id_status_boleto,callback:function(e){t.$set(t.boleto,"id_status_boleto",e)},expression:"boleto.id_status_boleto"}})],1)],1)],1),o("b-row",{attrs:{"align-h":"end"}},[o("b-col",{attrs:{cols:"2"}},[o("vs-button",{staticClass:"botao-salvar",attrs:{color:"#24a35a",type:"filled",icon:"save"},on:{click:t.editarBoleto}},[t._v(" Salvar ")])],1),o("b-col",{attrs:{cols:"2"}},[o("vs-button",{staticClass:"botao-salvar",attrs:{color:"#707070",type:"filled",icon:"clear"},on:{click:t.esconderModal}},[t._v(" Cancelar ")])],1)],1)],1)],1)},f=[],v={name:"ModalEditarBoleto",props:["idBoleto","visivelBoleto"],data:function(){return{boleto:{valor:"",valor_formatado:"",data_vencimento:"",data_quitacao:"",id:"",id_status_boleto:null,status_boleto:[]}}},methods:{buscarStatusBoleto:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("/contrato/boleto/status").then((function(e){t.status_boleto=e.data}));case 2:case"end":return e.stop()}}),e)})))()},buscarBoleto:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i["a"].get("/contrato/boleto",{params:{idBoleto:t.idBoleto}}).then((function(e){t.boleto=e.data[0],Object(s["b"])(t.$refs.inputValor,e.data[0].valor)}));case 1:case"end":return e.stop()}}),e)})))()},inicializar:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.buscarStatusBoleto(),t.buscarBoleto();case 2:case"end":return e.stop()}}),e)})))()},editarBoleto:function(){var t=this;null==this.boleto.data_quitacao&&(this.boleto.data_quitacao=""),this.boleto.valor=Object(u["b"])(this.boleto.valor),i["a"].post("/contrato/boleto/editar",{boleto:this.boleto}).then((function(){t.esconderModal()}))},esconderModal:function(){this.$modal.hide("modal-editar-boleto"),this.$emit("esconder-modal-boleto",!1),this.$emit("buscarBoletos"),this.boleto={}}},watch:{visivelBoleto:function(t){t&&this.inicializar()}}},p=v,b=o("2877"),m=Object(b["a"])(p,d,f,!1,null,"0d05c854",null),h=m.exports,_={name:"ModalContrato",props:["idContrato","visivel"],components:{ModalEditarBoleto:h},data:function(){return{responsaveis:[],clientes:[],imoveis:[],contrato:{data_inicio:""},dayjs:l.a,ativo_data_termino:!1,boletos:[],fieldsBoletos:[{key:"id",label:"Código",sortable:!0,class:"text-center"},{key:"data_vencimento",label:"Vencimento",sortable:!0,class:"text-center"},{key:"valor",label:"Valor",sortable:!0,class:"text-center"},{key:"data_quitacao",label:"Data Quitação",sortable:!0,class:"text-center"},{key:"status",label:"Status",sortable:!0,class:"text-center"},{key:"editar",label:"",class:"text-center"}],idBoletoModal:"",modal_visivel_boleto:!1}},methods:{buscarResponsaveis:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("/contrato/responsaveis").then((function(e){t.responsaveis=e.data}));case 2:case"end":return e.stop()}}),e)})))()},buscarClientes:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("/contrato/clientes").then((function(e){t.clientes=e.data}));case 2:case"end":return e.stop()}}),e)})))()},buscarImoveis:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("/contrato/imoveis").then((function(e){t.imoveis=e.data}));case 2:case"end":return e.stop()}}),e)})))()},buscarContrato:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("/contrato",{params:{idContrato:t.idContrato}}).then((function(e){t.contrato=e.data[0],Object(s["b"])(t.$refs.valor_boleto,e.data[0].valor_boleto)}));case 2:case"end":return e.stop()}}),e)})))()},buscarBoletos:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("/contrato/boletos",{params:{idContrato:t.idContrato}}).then((function(e){t.boletos=e.data}));case 2:case"end":return e.stop()}}),e)})))()},inicializar:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.buscarClientes(),t.buscarResponsaveis(),t.buscarImoveis(),t.buscarContrato(),t.buscarBoletos();case 5:case"end":return e.stop()}}),e)})))()},esconderModal:function(){this.$modal.hide("modal-contrato"),this.$emit("esconder-modal",!1),this.contrato={}},mostrarModalEditarBoleto:function(t){this.$modal.show("modal-editar-boleto"),this.modal_visivel_boleto=!0,this.idBoletoModal=t.id},editarContrato:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.contrato.valor_boleto=Object(u["b"])(t.contrato.valor_boleto),!t.validarCamposObrigatorio()){e.next=5;break}return o=t.$store.state.usuario.id,e.next=5,i["a"].post("/contrato/editar",{contrato:t.contrato,idUsuario:o}).then((function(e){var o=e.data[0].id;t.$vs.notify({text:"Contrato editado com sucesso: ".concat(o," !"),position:"top-center",color:"warning",time:6e3,icon:"check_circle_outline"}),t.esconderModal()})).catch((function(e){t.$vs.notify({text:"".concat(e.response.data.erro),position:"top-center",color:"danger",time:4e3,icon:"check_circle_outline"})}));case 5:case"end":return e.stop()}}),e)})))()},validarCamposObrigatorio:function(){return""!=this.contrato["id_responsavel"]&&""!=this.contrato["id_cliente"]&&""!=this.contrato["id_imovel"]&&""!=this.contrato["data_inicio"]&&""!=this.contrato["data_fim"]&&""!=this.contrato["valor_boleto"]&&""!=this.contrato["data_vencimento"]||(this.$vs.notify({text:"Campos obrigatorios vazio.",position:"top-center",color:"danger",time:4e3,icon:"check_circle_outline"}),!1)},importarPDF:function(t){var e=this;this.btn_importa_desabilitado=!1,this.files=t.target.files;for(var o=new FormData,a=0,n=Object.keys(this.files);a<n.length;a++){var r=n[a];o.append("files",this.files[r])}i["a"].post("/contrato/".concat(this.contrato.id,"/importar/pdf"),o,{}).then((function(t){e.contrato.nome_pdf=t.data[0].nome,e.buscarContratos(),e.$vs.notify({text:"Contrato importado com sucesso!",position:"top-center",color:"success",time:4e3,icon:"check_circle_outline"})}))}},watch:{visivel:function(t){t&&this.inicializar()},"contrato.data_inicio":function(t){this.visivel&&(10==t.length?this.ativo_data_termino=!0:(this.ativo_data_termino=!1,this.contrato.data_fim="",this.contrato.vigencia=""))},"contrato.data_fim":function(t){if(this.visivel)if(10==t.length){var e=this.contrato.data_inicio;this.contrato.vigencia=l()(t).diff(e,"month")}else this.contrato.vigencia=""}}},g=_,x=(o("b334"),Object(b["a"])(g,a,n,!1,null,null,null));e["a"]=x.exports}}]);
//# sourceMappingURL=cliente~imovel.25d668f8.js.map